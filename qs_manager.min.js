/*
	
	QS Manager v2.7 - 2014
	
*/
var qsManager={hash:window.location.hash,query:window.location.search,url:window.location.href,gdata:function(){return sessionStorage.qs_manager},sdata:function(a){sessionStorage.qs_manager=a},history:function(a){history.pushState({qsManager:!0},"",a)},qto:function(a){var b={};if(""!=a&&null!=a&&void 0!=a){a=a.substring(a.indexOf("?")+1,a.length+1).split("&");for(var d,g,c=0;c<a.length;c++)d=a[c].split("="),g=d[1].split(","),b[d[0]]=g}return b},otq:function(a){var b="";if(""!=a&&null!=a&&void 0!= a)for(var d in a)a.hasOwnProperty(d)&&(b+=0==b.length?"?"+d+"="+a[d]:"&"+d+"="+a[d]);return b},mput:function(a,b,d,g){var c=this.qto(this.gdata()),f=this.url.replace(this.hash,"");a=a.split("|");b=b.split("|");void 0==d&&(d=!0);for(var e=0;e<a.length;e++)if(void 0!=c[a[e]]){sParam=b[e].split(",");for(var h=0;h<sParam.length;h++)-1!=c[a[e]].indexOf(sParam[h])?(d&&c[a[e]].splice(c[a[e]].indexOf(sParam[h]),1),""==c[a[e]]&&delete c[a[e]]):c[a[e]].push(sParam[h])}else c[a[e]]=b[e];f=""==this.query?f+this.otq(c)+ this.hash:f.replace(this.query,this.otq(c))+this.hash;this.sdata(this.otq(c));g?this.history(f):window.location=f},put:function(a,b,d,g){var c=this.qto(this.gdata()),f=this.url.replace(this.hash,"");a=a.split("|");b=b.split("|");void 0==d&&(d=!0);for(var e=0;e<a.length;e++)void 0!=c[a[e]]&&c[a[e]]==b[e]&&d?delete c[a[e]]:c[a[e]]=b[e];console.log(c);f=""==this.query?f+this.otq(c)+this.hash:f.replace(this.query,this.otq(c))+this.hash;this.sdata(this.otq(c));g?this.history(f):window.location=f},get:function(a, b,d){b=void 0!=b&&null!=b&&b?b:this.gdata();b=this.qto(b.substring(b.indexOf("?"),b.length));var g,c=0;a=a.split("|");result=d?{}:"";for(g in b)c++;for(var f=0;f<a.length;f++)g=0==f||2>c?"":"|",void 0!=b[a[f]]&&(d?result[a[f]]=b[a[f]]:result+=g+b[a[f]].toString());return d?result:decodeURIComponent(result)},remove:function(a,b){var d=this.qto(this.gdata()),g=this.url.replace(this.hash,"");a=a.split("|");for(var c=0;c<a.length;c++)void 0!=d[a[c]]&&delete d[a[c]];g=""==this.query?g+this.otq(d)+this.hash: g.replace(this.query,this.otq(d))+this.hash;this.sdata(this.otq(d));b?this.history(g):window.location=g}};qsManager.sdata(qsManager.query);